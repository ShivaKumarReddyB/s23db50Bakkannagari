extends layout

block content
  h1= title
  - let destination3 = `dispatch(\"/vehicles/create\")`
  p 
   button.btn( class="btn-success ml-1", onclick= destination3) Create
  p Welcome to  shiva Kumar Reddy #{title} page

  .container-fluid
  .row
    -  
    each vehicle,idx in results 
      - let destination = `dispatch(\"/vehicles/update?id=${vehicle._id}\")`
      - let destination1 = `dispatch(\"/vehicles/delete?id=${vehicle._id}\")`
      - let destination2 = `dispatch(\"/vehicles/detail?id=${vehicle._id}\")`
      .col-sm-2(onclick=`buy(${idx})`)
        h3 Vehicle
        p Model: #{vehicle.model}
        p Year: #{vehicle.year}
        p Color: #{vehicle.color}
      button.btn( class="btn-primary ml-1", onclick= destination) Update
      button.btn( class="btn-danger ml-1", onclick= destination1) Delete
      button.btn( class="btn-info ml-1", onclick= destination2) Detail

  script.
    function dispatch(path){
      window.location.href=path
    }

    function buy(index) {
      alert(`You purchased item ${index}.`);
    }
  